# Path to your oh-my-zsh configuration.
ZSH=$HOME/.oh-my-zsh

# Set name of the theme to load.
ZSH_THEME="mh"

# Set to this to use case-sensitive completion
CASE_SENSITIVE="true"

# Uncomment following line if you want red dots to be displayed while waiting for completion
COMPLETION_WAITING_DOTS="true"

# Uncomment following line if you want to disable marking untracked files under
# VCS as dirty. This makes repository status check for large repositories much,
# much faster.
# DISABLE_UNTRACKED_FILES_DIRTY="true"

#source ~/dot-files-forest/zsh-vcs-prompt/zshrc.sh

plugins=(autojump
        archlinux
        bundler
        colored-man
        colorize
        command-aliases
        command-not-found
        copydir
        copyfile
        cp
        git
        git-extras
        git-flow
        git-hubflow
        git-remote-branch
        github
        gnu-utils
        history
        command-not-found
        python
        #rails
        rsync
        ruby
        history-substring-search
        rvm
        ssh-agent
        themes
        thor
        tmux
        sublime
        z
        )

source $ZSH/oh-my-zsh.sh

source $HOME/.zsh/nonlogin.d/00init
source $HOME/.zsh/nonlogin.d/10history
source $HOME/.zsh/nonlogin.d/20prompt
source $HOME/.zsh/nonlogin.d/30path
source $HOME/.zsh/nonlogin.d/40editor
source $HOME/.zsh/nonlogin.d/80functions
source $HOME/.zsh/nonlogin.d/90aliases
source $HOME/.zsh/nonlogin.d/99misc
source $HOME/.zsh/nonlogin.d/100-gpg-agent.sh

source $HOME/dot-files-forest/zsh/clauswitt.zsh-theme


function powerline_precmd() {
    export PS1="$(~/dot-files-forest/powerline-shell/powerline-shell.py $? --shell zsh --mode flat 2> /dev/null)"
}

function install_powerline_precmd() {
    for s in "${precmd_functions[@]}"; do
        if [ "$s" = "powerline_precmd" ]; then
            return
        fi
    done
   
    precmd_functions+=(powerline_precmd)
}

install_powerline_precmd
