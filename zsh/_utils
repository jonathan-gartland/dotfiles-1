# -*- mode: shell-script; -*-

# run source in all files of a directory (path provided from first arg)
function source-dir ()
{
    SOURCE_DIR="$1"

    if [ -d "$SOURCE_DIR" -a -r "$SOURCE_DIR" -a -x "$SOURCE_DIR" ]; then
        for i in "$SOURCE_DIR"/*; do
            [[ ${i##*/} != @(*~|*.bak|*.swp|\#*\#|*.dpkg*|.rpm*) ]] &&
                    [ \( -f $i -o -h $i \) -a -r $i ] && . $i
        done
    fi
    unset i
}
